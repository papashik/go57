# Классная работа № 7 - Интерпретатор командной строки для файловой системы
Все определения, данные ниже, могут быть далеки от реальности, они верны лишь для этой классной работы.

## Файловая система
**Файловая система** - это совокупность объектов, каким-то образом связанных между собой, которые несут внутри себя некую информацию и к которым можно получить доступ.<br>
Объекты подразделяются на **файлы** и **папки** (др. названия: _каталоги_, _директории_), где **файлы** - это объекты, имеющие название и какую-либо строковую информацию внутри себя, а **папки** - это объекты, имеющие название и список файлов и папок, находящихся внутри этой папки (**содержимое папки**).

В файловой системе всегда (начиная с момента её создания) есть **корневая директория** (др. название: _корень_), которая у нас имеет название `root`. Все остальные объекты могут быть расположены только внутри `root`.<br>
Каждый объект находится в какой-либо папке.<br>
В папке может не быть файлов, тогда это **пустая папка**.<br>
Для объекта папка, в которой он находится, называется **родительской папкой**.<br>
Для папки объект, находящийся внутри неё, называется **дочерним объектом**.<br>
Для корня родительской папкой является сам корень.

Каждый объект в файловой системе имеет **полный путь** к нему - набор символов, показывающий расположение объекта в файловой системе (уникален для каждого объекта). Это своеобразная "дорога" к файлу - список всех папок, через которые нужно пройти, чтобы найти объект. Папки в пути разделены символом слэша (`/`). 

Например, внутри корневой директории мы создали папку `documents`, а внутри неё - файл `informatics`. Тогда полный путь к этому файлу будет выглядеть так: `root/documents/informatics`.<br>
Полный путь к папке `documents` выглядит так: `root/documents`, к папке root так: `root`.

## Командная строка
**Командная строка** (или _консоль_) – это текстовый интерфейс между человеком и компьютером, в котором инструкции компьютеру даются путём ввода с клавиатуры текстовых строк (команд). [Статья про командную строку](https://thecode.media/bash/?ysclid=lpl50odhz130196447)

С командной строкой вы уже сталкивались, просто запуская программы в онлайн-компиляторах и вводя/получая какие-то данные через консоль. Возможно, даже вводили некоторые команды (по типу `go run main.go` - скомпилировать и запустить файл `main.go`).

Командная строка есть в любой операционной системе, она позволяет управлять системой, получать доступ к файлам, запускать программы - по факту, делать все, что можно делать в системе, но, зачастую, гораздо быстрее. 

Пока запущена командная строка, внутри неё у вас всегда есть так называемая **рабочая директория** - директория, в которой вы сейчас "находитесь", работая с командной строкой.<br>
Некоторые команды:
- Вывести на экран полный путь к рабочей директории можно, набрав в командной строке команду `cd` в Windows, `pwd` в MacOS и Linux (в дальнейшем я буду писать команды для Windows, а в скобках для MacOS и Linux).
- Просмотреть содержание рабочей директории можно с помощью команды `dir` (`ls`).
- Сменить рабочую директорию можно с помощью команды `cd <имя каталога для перехода>` (во всех системах). Причем, для любой директории родительская директория имеет название `..` (перейти в неё можно, набрав `cd ..`).

Пример: вы запустили командную строку и ваша рабочая директория такова: `C:\Users\pavel` (можно узнать с помощью команды, а обычно пишется слева от поля ввода). Набрав `cd ..`, вы окажетесь в директории `C:\Users`, набрав `cd ..` еще раз, вы окажетесь в директории `C:`. Набрав после этого `cd Users`, окажетесь опять в `C:\Users`.

Запустите командную строку, попробуйте ввести несколько команд. [Пример использования консоли](https://zanderle.gitbooks.io/tutorial/content/ru/intro_to_command_line/)

## Задание
Создать виртуальную файловую систему и командную строку для управления ею, поддерживающую следующие команды:
<table>
	<thead>
		<tr>
			<th width=150>команда</th>
			<th>результат выполнения</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><code>exit</code></td>
			<td>завершает работу программы</code></td>
		</tr>
		<tr>
			<td colspan=2 align=center>Уровень 1</td>
		</tr>
		<tr>
			<td><code>ls</code></td>
			<td>выводит содержание рабочей директории (каждый объект на отдельной строке, причем файлы должны быть каким-либо образом выделены). Название команды происходит от слова <b>l</b>i<b>s</b>t (список)</td>
		</tr>
		<tr>
			<td><code>cd &lt;dir&gt;</code></td>
			<td>меняет рабочую директорию на <code>&lt;dir&gt;</code> (если это имя дочернего каталога, переходит в него, если это <code>..</code>, переходит в родительский каталог). Название команды происходит от слов <b>c</b>hange <b>d</b>irectory (сменить директорию)</td>
		</tr>
		<tr>
			<td><code>mkdir &lt;dir&gt;</code></td>
			<td>создаёт новую директорию <code>&lt;dir&gt;</code> внутри рабочей директории. Название команды происходит от слов <b>m</b>a<b>k</b>e <b>dir</b>ectory (создать директорию)</td>
		</tr>
		<tr>
			<td colspan=2 align=center>Уровень 2</td>
		</tr>
		<tr>
			<td><code>touch &lt;file&gt;</code></td>
			<td>создаёт новый файл <code>&lt;file&gt;</code> внутри рабочей директории</td>
		</tr>
		<tr>
			<td><code>write &lt;file&gt;</code></td>
			<td>позволяет записать контент в файл <code>&lt;file&gt;</code>. После введения команды в консоль можно писать произвольный текст, он добавится к контенту, содержащемся в файле (см. рекомендации ниже)</td>
		</tr>
		<tr>
			<td><code>cat &lt;file&gt;</code></td>
			<td>выводит содержимое файла <code>&lt;file&gt;</code></td>
		</tr>
  		<tr>
			<td colspan=2 align=center>Уровень 3</td>
		</tr>
		<tr>
			<td><code>pwd</code></td>
			<td>выводит полный путь до рабочей директории. Название команды происходит от слов <b>p</b>rint <b>w</b>orking <b>d</b>irectory (вывести рабочую директорию)</td>
		</tr>
		<tr>
			<td><code>rm &lt;file/dir&gt;</code></td>
			<td>удаляет файл или папку в рабочей директории. Название команды происходит от слова <b>r</b>e<b>m</b>ove (удалить)</td>
		</tr>
	</tbody>
</table>


Правила системы:
- При запуске программы рабочей директорией должна являться `root`
- При вводе неизвестной команды должно выводиться `Unknown command` (неизвестная команда)
- При вводе любой команды (кроме `ls`, `pwd` и `exit`) без аргументов должно выводиться `No argument` (нет аргумента)
- При обращении к несуществующей директории или файлу должно выводиться `Do not exist: <dir/file>` (файл/папка не существует)
- При попытке создания существующего файла/папки должно выводиться `Object exists: <dir/file>`

Рекомендации:
- Для ввода строк с пробелами используйте конструкцию `str, _ = bufio.NewReader(os.Stdin).ReadString('\n')` (в `str` будет находиться введённая строка вместе с символом перевода строки). Понадобятся пакеты `bufio` и `os`
- Для разделения строк на части можно использовать функцию `strings.Split` ([документация](https://pkg.go.dev/strings#Split)). Понадобится пакет `strings`
- По желанию, можно организовать красивый ввод команд, предваряя ввод знаком `$` или `>`.
 