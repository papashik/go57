# Golang - основы
Программа на языке Go состоит из объявления пакета текущего файла (`package main`), импорта дополнительных пакетов (например, _math_ для доступа к математическим функциям или _fmt_ для ввода-вывода) и объявления функций. Выполнение начинается с содержимого функции `main()`.

Пример программы на Go:
```golang
package main

import "fmt"

func main() {
	fmt.Println("Hello, world!")
}
```
Далее в примерах я не буду писать программы целиком, а буду оставлять только то, что должно быть внутри функции `main()`.

## Объявление переменных
Так как Go - компилируемый язык, компилятор должен знать о том, сколько памяти будет занимать та или иная переменная. Предупреждение компилятора о размере и типе переменной называется **объявлением переменной**. Процесс присвоения начального значения переменной называется **инициализацией переменной**. Каждая объявленная переменная должна быть использована в программе хотя бы один раз, иначе компилятор будет выдавать ошибку `declared but not used`.
```golang
// Объявление с явным обозначением типа (int, float64, string)
var a int // будет равна 0 (автоматически инициализируется нулевым значением)
var b float64 // будет равна 0.0
var moe_imya string // будет равна "" (пустой строке)

// Объявление с автоопределением типа и инициализацией
var a = 34 // будет типа int
var b = 0.57 // float64
var c = "Hello world" // string

// Краткая запись объявления и инициализации
a := 5
b := 6.8
c := "hello"
```

## Арифметика
После объявления переменных можно работать с ними примерно как в Python.
```golang
var a, b, c int

a = 5
b = 7
c = a + b // будет равна 12

с = с % a // остаток от деления - будет равна 2

c++ // оператор инкремента (увеличение на единицу) - будет равна 3
c-- // оператор декремента (уменьшение на единицу) - будет равна 2
```

Но, в отличие от языка Python, в Go оператор деления `/`, применяющийся к целым числам, всегда будет возвращать целое число (выполняет роль целочисленного деления). Это сделано для того, чтобы типы переменных не менялись без явного вмешательства программиста (работаешь с `int` и `int` => получай в ответ `int`). Иначе в следующем примере компилятор не сможет узнать заранее, сколько памяти выделить под переменную `c` (вдруг вы делите 4 на 2, а вдруг 5 на 3):
```golang
var a, b int

// ...
// каким-то образом заполняем a и b, например, вводим с клавиатуры

c := a / b
// Вопрос: какого типа будет переменная c?
// Ответ: всегда типа int
```

Для того, чтобы изменить тип переменной, необходимо явно дать компилятору понять, что ты этого хочешь. Для этого существуют операции **преобразования типа** (в Python это функции `int()`, `float()`, `str()`). В Go:
```golang
var a int

a = 58
b := float64(a) // b будет дробным числом 58.00

b = 57.99
c := int(b) // c будет целым числом 57

// сейчас a = 58 и c = 57 - целые
// для того, чтобы получить значение 58/57, нужно явно преобразовать их оба в дробные:
d := float64(a) / float64(c) // d будет числом 1.0175438596491229
```

## Ввод-вывод
Для ввода-вывода информации необходимо импортировать пакет _fmt_ - так называемое хранилище функций (в начале программы до функции `main()` нужно написать `import "fmt"`). После импорта пакета функции из него можно вызывать через точку.
```golang
a := 5
fmt.Print(a) // выведет 5
fmt.Print("hello", a) // выведет `hello5`
fmt.Println("hello", a) // выведет `hello 5` и переведет курсор на следующую строку - это особенность функции Println - ставит пробелы между аргументами и переводит курсор на следующую строку
```

### Ввод и форматные строки
Также в Go (как и в языках C, Python и т.д.) существуют так называемые форматные строки - строки, в которых вместо шаблонов (`%d, %f, %s`) подставляются значения переменных соответствующего типа - `decimal` (целые числа), `float64` (дробные числа), `string` (строки). Для работы с форматными строками предназначены функции, имя которых заканчивается буквой _f_: `fmt.Printf`, `fmt.Scanf` и т.д.
```golang
// Не забудьте импортировать пакет fmt

a := 5
fmt.Printf("a = %d", a) // вместо %d подставится значение переменной a, и функция выведет `a = 5`

name := "Павел"
age := 80
height := 1.53
fmt.Printf("Меня зовут %s, мне %d лет и мой рост - %f м.\n", name, age, height)
// Выведет `Меня зовут Павел, мне 80 лет и мой рост - 1.530000 м.` и переведет курсор на следующую строку (\n - символ перевода строки)

var b int
fmt.Scanf("%d", &b) /* на этой строчке программа остановится и будет ожидать ввода целого числа - аналогично работе функции input() в Python.
После ввода числа, оно запишется по адресу переменной b (&b) и b будет равна введенному числу.
Давайте считать, что мы ввели число 57. */
fmt.Printf("Вы ввели число %d\n", b) // Выведет `Вы ввели число 57` и переведет курсор на следующую строку (\n - символ перевода строки)

var c float64
fmt.Scanf("%f", &c) // ввод дробного числа

var d string
fmt.Scanf("%s", &d) // ввод строки
```

## Условный оператор
```golang
a := 4
if a > 5 {
    fmt.Println(1)
} else if a < 3 {
    fmt.Println(2)
} else {
    fmt.Println(3) // сработает вот этот и выведет 3
}

// and и or
b := 3
if a == 4 && b == 5 { // аналог and в Python
    fmt.Println(1) // сработает, если верны оба условия (оператор И)
} else if a == 4 || b == 5 { // аналог or в Python
    fmt.Println(2) // сработает и выведет 2, так как верно хотя бы одно из условий (оператор ИЛИ)
}
```

## Циклы
Есть всего один цикл - цикл `for`.
```golang
// так записывается бесконечный цикл
for {
    fmt.Println("hi")
}

// цикл с условием - аналог цикла while в Python
// выполняется, пока i < 5 - в данном случае 5 итераций
i := 0
for i < 5 {
    fmt.Println("hi") // какое-то тело цикла
    i++
}

// та же самая запись, но короче - цикл выполнится 5 раз
for i := 0; i < 5; i++ {
    fmt.Println("hi")
}
```

## Примеры
### Вывод времени в формате ЧЧ:ММ по введенному количеству минут
Форматная строка позволяет не только подставлять значения переменных в строку, но и, к примеру, дополнять числа до двух знаков нулями слева - формат `%02d` (простыми словами, `0` выводится как `00`, `5` выводится как `05`, `12` выводится как `12`), что удобно для вывода времени.
```golang
var min_amount, mins, hours int
fmt.Scanf("%d", &min_amount)

mins = min_amount % 60
hours = ((min_amount - mins) / 60) % 24
fmt.Printf("%02d:%02d\n", hours, mins)

/* Примеры входных данных:
0 -> 00:00
1 -> 00:01
61 -> 01:01
1439 -> 23:59 */
```

### Вывод чисел от A до B включительно
```golang
var a, b int
fmt.Scanf("%d %d", &a, &b) // ввод двух значений
for i := a; i <= b; i++ {
	fmt.Println(i)
}
```

### Сумма цифр числа A
```golang
var a, sum int // напомню, что при таком объявлении переменные инициализируются нулевыми значениями
fmt.Scanf("%d", &a)

for a > 0 {
    sum = sum + a % 10
    a = a / 10
}
fmt.Println(sum)
```
